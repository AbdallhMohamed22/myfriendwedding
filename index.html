<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abanoub & Madona wedding countdown</title>
    <link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">


</head>
<body>
    <div class="overlay">
        <h1> Abanoub & Madona Wedding â¤ï¸</h1>
        <div class="save-date">
  <h1 class="save-date">Save the Date</h1>
<p class="save-date-date">7/9/2025</p>
        </div>
        <h1>Count Down </h1>
        <div id="countdown">
            <div><span id="days"></span> Day</div>
            <div><span id="hours"></span> Hour</div>
            <div><span id="minutes"></span> Minutes</div>
            <div><span id="seconds"></span> Seconds</div>
        </div>
    </div>

    <script>
        // Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù
        const weddingDate = new Date("Sep 7, 2025 18:00:00").getTime();

        const timer = setInterval(function() {
            const now = new Date().getTime();
            const distance = weddingDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").innerText = days;
            document.getElementById("hours").innerText = hours;
            document.getElementById("minutes").innerText = minutes;
            document.getElementById("seconds").innerText = seconds;

            if (distance < 0) {
                clearInterval(timer);
                document.getElementById("countdown").innerHTML = "WE MADE IT !! ğŸ‰";
            }
        }, 1000);
    </script>
<script>
document.addEventListener('click', function(e) {
    const heart = document.createElement('span');
    heart.innerHTML = 'â¤ï¸';
    heart.classList.add('floating-heart');
    document.body.appendChild(heart);

    // ØªØ­Ø¯ÙŠØ¯ Ù…ÙƒØ§Ù† Ø§Ù„Ù„Ù…Ø³Ø© Ø£Ùˆ Ø§Ù„ÙƒÙ„ÙŠÙƒ
    heart.style.left = e.pageX + 'px';
    heart.style.top = e.pageY + 'px';

    // Ø¨Ø¹Ø¯ 1.5 Ø«Ø§Ù†ÙŠØ© Ù†Ø´ÙŠÙ„Ù‡
    setTimeout(() => {
        heart.remove();
    }, 1500);
});
</script>



<script>
/* ======= Audio segment player with fade in/out (plays once on first user interaction) ======= */

const audioContext = new (window.AudioContext || window.webkitAudioContext)();
const gainNode = audioContext.createGain();
gainNode.connect(audioContext.destination);

let audioBuffer = null;

// ØªÙ‚Ø¯Ø± ØªØ¹Ø¯Ù„ Ø§Ù„Ù‚ÙŠÙ… Ø¯ÙŠ
const START_SECOND = 63;   // ÙŠØ¨Ø¯Ø£ Ù…Ù† 1:03 => 63 Ø«Ø§Ù†ÙŠØ©
const END_SECOND   = 144;  // ÙŠÙ†ØªÙ‡ÙŠ Ø¹Ù†Ø¯ 2:24 => 144 Ø«Ø§Ù†ÙŠØ©
const FADE_SECONDS = 2;    // Ù…Ø¯Ø© Ø§Ù„ÙÙŠØ¯ Ø¥Ù†/Ø£ÙˆØª Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù (ØªØ£ÙƒØ¯ Ø§Ù† song1.m4a ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙÙˆÙ„Ø¯Ø±)
fetch('song1.m4a')
  .then(resp => {
    if (!resp.ok) throw new Error('Failed to load audio file');
    return resp.arrayBuffer();
  })
  .then(buf => audioContext.decodeAudioData(buf))
  .then(decoded => {
    audioBuffer = decoded;
    console.log('Audio loaded. duration:', audioBuffer.duration, 'seconds');
  })
  .catch(err => console.error('Audio load error:', err));

function playSegmentOnce() {
  if (!audioBuffer) {
    console.warn('Audio not loaded yet.');
    return;
  }

  // Resume audio context if suspended (required on some browsers)
  if (audioContext.state === 'suspended') {
    audioContext.resume();
  }

  // Ø¶Ø¨Ø· Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¯Ø§Ø®Ù„ Ø·ÙˆÙ„ Ø§Ù„Ù…Ù„Ù ÙØ¹Ù„ÙŠÙ‹Ø§
  const s = Math.max(0, START_SECOND);
  const e = Math.min(END_SECOND, audioBuffer.duration);
  const duration = e - s;
  if (duration <= 0) {
    console.error('Invalid start/end times. duration <= 0');
    return;
  }

  const source = audioContext.createBufferSource();
  source.buffer = audioBuffer;
  source.connect(gainNode);

  // Ø¥Ù„ØºØ§Ø¡ Ø£ÙŠ Ø¬Ø¯Ø§ÙˆÙ„ Ø³Ø§Ø¨Ù‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù€ gain
  gainNode.gain.cancelScheduledValues(audioContext.currentTime);
  // Ø¨Ø¯Ø§ÙŠØ© Ø¨ØµÙˆØª 0
  gainNode.gain.setValueAtTime(0, audioContext.currentTime);
  // Fade in
  gainNode.gain.linearRampToValueAtTime(1, audioContext.currentTime + FADE_SECONDS);
  // ØªØ­Ø¶ÙŠØ± fade out Ù‚Ø¨Ù„ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù‚Ø·Ø¹
  const fadeOutStart = audioContext.currentTime + Math.max(0, duration - FADE_SECONDS);
  gainNode.gain.setValueAtTime(1, fadeOutStart);
  gainNode.gain.linearRampToValueAtTime(0, fadeOutStart + FADE_SECONDS + 0.05);

  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ØµØ¯Ø± Ù…Ù† offset = s Ù„Ù…Ø¯Ø© = duration
  source.start(audioContext.currentTime, s, duration);
  // Ù†ÙˆÙ‚Ù Ø§Ù„Ù…ØµØ¯Ø± Ø¨Ø¹Ø¯ Ø´ÙˆÙŠØ© Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØªÙ†Ø¸ÙŠÙ
  source.stop(audioContext.currentTime + duration + 0.1);

  console.log(`Playing segment ${s}s â†’ ${e}s (duration ${duration}s)`);

  // Ù†Ø´ÙŠÙ„ Ø§Ù„Listeners Ø¹Ù„Ø´Ø§Ù† ÙŠØªØ´ØºÙ„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
  document.removeEventListener('click', onFirstInteraction);
  document.removeEventListener('touchstart', onFirstInteraction);
}

function onFirstInteraction(e) {
  // Ø¥Ø°Ø§ Ø­Ø§Ø¨Ø¨ØŒ Ù…Ù…ÙƒÙ† ØªÙ…Ù†Ø¹ Ø§Ù„Ù€ default Ø¹Ø´Ø§Ù† Ù„Ø§ ÙŠØ­ØµÙ„ scroll Ù‚Ø¨Ù„ Ø§Ù„ØªØ´ØºÙŠÙ„:
  // e.preventDefault();
  playSegmentOnce();
}

// Ø´ØºÙ‘Ø§Ù„ Ø¹Ù„Ù‰ click Ùˆ touchstart (mobile) Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
document.addEventListener('click', onFirstInteraction, { once: true });
document.addEventListener('touchstart', onFirstInteraction, { once: true });
</script>




<script>

const audio = new Audio('song1.m4a');

document.addEventListener('click', () => {
    audio.play();
});

document.addEventListener('touchstart', () => {
    audio.play();
});

</script>

</body>
</html>


